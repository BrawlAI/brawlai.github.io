(this.webpackJsonppages=this.webpackJsonppages||[]).push([[193],{106:function(e,t,n){"use strict";function o(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return o}))},107:function(e,t,n){"use strict";function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return o}))},133:function(e,t,n){"use strict";var o=n(11),r=n(12),a=n(62),i=n(79),s=n(7),c=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"fetchGET",value:function(e,t,n){return fetch(this.ADDRESS+"/open/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.json()})).then((function(e){t(e)}),(function(e){n(e)})),!0}},{key:"fetchPOST",value:function(e,t,n,o){return fetch(a.a.ADDRESS+"/open/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n(e)}),(function(e){o(e)})),!0}},{key:"getRanking",value:function(t,n,o,r){e.fetchPOST("get_ranking",{rank:t,count:n},o,(function(e){s.c.error("Failed to load ranking results.",{autoClose:1e4}),null!=r&&r(e)}))}},{key:"getBrawl",value:function(t,n,o,r,a){e.postWithToastPayload("get_brawl",n,{attackerUsername:t,attackerProjectName:n,defenderUsername:o,defenderProjectName:r},"Loading ","Failed to load "," loaded.",a)}},{key:"getProgress",value:function(t,n,o){e.postWithToastPayload("get_progress",n,{username:t,projectName:n},"Loading ","Failed to load "," loaded.",o)}},{key:"post",value:function(t,n,o){e.fetchPOST(t,{name:n},(function(e){o&&o(e)}),(function(e){console.log("POST ERROR: "+t),console.log(e),void 0!==e&&null!==e&&e.toString().length<100&&s.c.error(e.toString(),{autoClose:1e4})}))}},{key:"get",value:function(t,n){e.fetchGET(t,(function(e){n&&n(e)}),(function(e){console.log("GET ERROR: "+t),console.log(e),void 0!==e&&null!==e&&e.toString().length<100&&s.c.error(e.toString(),{autoClose:1e4})}))}},{key:"postWithToast",value:function(t,n,o,r,a,c){var u=s.c.warning(o+n+"...",{autoClose:!1});e.fetchPOST(t,{name:n},(function(e){i.a.finishToast(e,u,r,a,n,c(e))}),(function(e){i.a.finishToast(e,u,r,a,n,void 0)}))}},{key:"postWithToastPayload",value:function(t,n,o,r,a,c,u){var l=s.c.warning(r+n+"...",{autoClose:!1});e.fetchPOST(t,o,(function(e){i.a.finishToast(e,l,a,c,n,u(e))}),(function(e){i.a.finishToast(e,l,a,c,n,void 0)}))}}]),e}();t.a=c},464:function(e,t,n){"use strict";n.r(t);var o=n(95),r=n(63),a=n(1),i=n(0),s=n(13),c=n(62),u=n(79),l=n(54),f=n(133);function d(e){var t=e.matches,n=e.matchType,o=e.project,i=e.user;if(null===t||void 0===t||t.length<=0)return null;var c,f,d=[],p=0,h=Object(r.a)(t);try{for(h.s();!(c=h.n()).done;){var g=c.value,y=null;if("test"===n)y=Object(a.jsx)("td",{children:"Idle Test"});else{var j="/progress?project="+g.opponentProject+"&author="+g.opponentName;y=Object(a.jsxs)("td",{children:[Object(a.jsx)(s.b,{className:"inline",to:j,children:g.opponentProject})," ",Object(a.jsxs)("div",{className:"progress-opponent-name",title:g.opponentCountry,children:["(",Object(a.jsx)("span",{className:"flag-icon flag-icon-"+(null!=g.opponentCountryCode?g.opponentCountryCode.toLowerCase():"")+" ranking-flag-size"}),g.opponentName,")"]})]})}var v="/results?",m=!1;"attack"===n?(v+="ap="+o,v+="&au="+i,v+="&dp="+g.opponentProject,v+="&du="+g.opponentName,m=1===g.winner):"defense"===n?(v+="ap="+g.opponentProject,v+="&au="+g.opponentName,v+="&dp="+o,v+="&du="+i,m=2===g.winner):"test"===n&&(v+="ap="+o,v+="&au="+i,v+="&test=true",m=1===g.winner),d.push(Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("span",{title:m?"Won":"Lost",className:m?"progress-won-colour":"progress-lost-colour",children:Object(a.jsx)(l.a,{icon:m?"thumbs-up":"thumbs-down"})})}),Object(a.jsx)("td",{children:g.reason}),Object(a.jsx)("td",{children:Object(a.jsx)("span",{title:g.duration+" nano seconds",children:(f=g.duration,Math.trunc(f/1e9)+"."+(Math.trunc(f/1e7)%100).toString().padStart(2,"0")+" s")})}),Object(a.jsx)("td",{children:Object(a.jsx)("span",{title:new Date(g.time).toString(),children:u.a.timeSince(g.time)})}),Object(a.jsx)("td",{children:g.turns}),y,Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:Object(a.jsx)(s.b,{className:"inline",to:v,children:"view"})})]},n+p+++"-"+g.opponentName+":"+g.opponentProject))}}catch(b){h.e(b)}finally{h.f()}return d}function p(e){var t=e.attacks,n=e.defenses,o=e.tests,r=e.name,i=e.project,s=e.user;return Object(a.jsx)("div",{children:Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:" "}),Object(a.jsx)("td",{children:"Reason"}),Object(a.jsx)("td",{children:"Duration"}),Object(a.jsx)("td",{children:"Age"}),Object(a.jsx)("td",{children:"Turns"}),Object(a.jsx)("td",{children:"Opponent"}),Object(a.jsx)("td",{children:"Type"}),Object(a.jsx)("td",{children:"Replay"})]}),Object(a.jsx)(d,{matches:n,matchType:"defense",project:i,user:s}),Object(a.jsx)(d,{matches:t,matchType:"attack",project:i,user:s}),Object(a.jsx)(d,{matches:o,matchType:"test",project:i,user:s})]})})},r+"-list")}t.default=function(e){var t=Object(s.d)(),n=Object(o.a)(t,1)[0],r=n.get("project"),l=n.get("author");Object(i.useEffect)((function(){document.title=null!=r&&null!=l?e.title.replace("{0}",r+" - "+l):e.title.replace("{0}","unknown project")}),[e.title,r,l,n]);var d=Object(i.useState)(null),h=Object(o.a)(d,2),g=h[0],y=h[1],j=function(){null!=r&&null!=l&&(c.a.isLoggedIn()&&l===c.a.getUsername()?u.a.getProgress(r,(function(e){y(e),k(b)})):f.a.getProgress(l,r,(function(e){y(e),k(b)})))};Object(i.useEffect)((function(){j()}),[r,l,n]);var v=Object(i.useState)(5),m=Object(o.a)(v,2),b=m[0],O=m[1],S=Object(i.useState)(0),T=Object(o.a)(S,2),E=T[0],k=T[1];if(Object(i.useEffect)((function(){var e=setTimeout((function(){if(null!=g&&(void 0===g.success||!g.success)){var e=E-1;if(e<=0){var t=b+1;t<=30&&O(t),j()}else k(e)}}),1e3);return function(){return clearTimeout(e)}}),[E]),null==g)return Object(a.jsx)("div",{className:"info-page",children:Object(a.jsx)("p",{children:"Loading..."})});if(g.success){var R="",x="";return null!=g.attacks&&g.attacks.length>=1?(R=g.attacks[0].countryCode,x=g.attacks[0].country):null!=g.defenses&&g.defenses.length>=1?(R=g.defenses[0].countryCode,x=g.defenses[0].country):null!=g.tests&&g.tests.length>=1&&(R=g.tests[0].countryCode,x=g.tests[0].country),Object(a.jsxs)("div",{className:"conditional-page-indent",children:[Object(a.jsxs)("h2",{children:["Progress of ",r," ",Object(a.jsxs)("span",{className:"progress-author-header",title:x,children:["(",Object(a.jsx)("span",{className:"flag-icon flag-icon-"+R.toLowerCase()+" ranking-flag-size"}),l,")"]})]}),Object(a.jsx)(p,{defenses:g.defenses,attacks:g.attacks,tests:g.tests,name:"Defense",project:r,user:l})]})}return g.success||void 0===g.reason?Object(a.jsxs)("div",{className:"info-page",children:[Object(a.jsx)("p",{children:"Failed to get any progress information. If the project was just launched, then please wait until it is tested."}),Object(a.jsxs)("p",{children:["Refreshing in ",E," seconds."]})]}):Object(a.jsxs)("div",{className:"info-page",children:[Object(a.jsx)("p",{children:"Failed to get any progress information. If the project was just launched, then please wait until it is tested."}),Object(a.jsxs)("p",{children:["Error: ",g.reason]}),Object(a.jsxs)("p",{children:["Refreshing in ",E," seconds."]})]})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n(14),r=n(6),a=n.n(r),i=n(0),s=n.n(i);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function g(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,o=t.indexOf(":"),r=h(t.slice(0,o)),a=t.slice(o+1).trim();return r.startsWith("webkit")?e[(n=r,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[r]=a,e}),{})}var y=!1;try{y=!0}catch(O){}function j(e){return null===e?null:"object"===c(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function v(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?u({},e,t):{}}function m(e){var t=e.forwardedRef,n=d(e,["forwardedRef"]),r=n.icon,a=n.mask,i=n.symbol,s=n.className,c=n.title,l=j(r),h=v("classes",[].concat(p(function(e){var t,n=e.spin,o=e.pulse,r=e.fixedWidth,a=e.inverse,i=e.border,s=e.listItem,c=e.flip,l=e.size,f=e.rotation,d=e.pull,p=(u(t={"fa-spin":n,"fa-pulse":o,"fa-fw":r,"fa-inverse":a,"fa-border":i,"fa-li":s,"fa-flip-horizontal":"horizontal"===c||"both"===c,"fa-flip-vertical":"vertical"===c||"both"===c},"fa-".concat(l),"undefined"!==typeof l&&null!==l),u(t,"fa-rotate-".concat(f),"undefined"!==typeof f&&null!==f&&0!==f),u(t,"fa-pull-".concat(d),"undefined"!==typeof d&&null!==d),u(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(p).map((function(e){return p[e]?e:null})).filter((function(e){return e}))}(n)),p(s.split(" ")))),g=v("transform","string"===typeof n.transform?o.c.transform(n.transform):n.transform),O=v("mask",j(a)),S=Object(o.a)(l,f({},h,{},g,{},O,{symbol:i,title:c}));if(!S)return function(){var e;!y&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var T=S.abstract,E={ref:t};return Object.keys(n).forEach((function(e){m.defaultProps.hasOwnProperty(e)||(E[e]=n[e])})),b(T[0],E)}m.displayName="FontAwesomeIcon",m.propTypes={border:a.a.bool,className:a.a.string,mask:a.a.oneOfType([a.a.object,a.a.array,a.a.string]),fixedWidth:a.a.bool,inverse:a.a.bool,flip:a.a.oneOf(["horizontal","vertical","both"]),icon:a.a.oneOfType([a.a.object,a.a.array,a.a.string]),listItem:a.a.bool,pull:a.a.oneOf(["right","left"]),pulse:a.a.bool,rotation:a.a.oneOf([0,90,180,270]),size:a.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:a.a.bool,symbol:a.a.oneOfType([a.a.bool,a.a.string]),title:a.a.string,transform:a.a.oneOfType([a.a.string,a.a.object]),swapOpacity:a.a.bool},m.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var b=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var r=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var o=n.attributes[t];switch(t){case"class":e.attrs.className=o,delete n.attributes.class;break;case"style":e.attrs.style=g(o);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=o:e.attrs[h(t)]=o}return e}),{attrs:{}}),i=o.style,s=void 0===i?{}:i,c=d(o,["style"]);return a.attrs.style=f({},a.attrs.style,{},s),t.apply(void 0,[n.tag,f({},a.attrs,{},c)].concat(p(r)))}.bind(null,s.a.createElement)},62:function(e,t,n){"use strict";var o=n(11),r=n(12),a=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"loginUrl",value:function(e,t){fetch(this.ADDRESS+"/login/").then((function(e){return e.json()})).then((function(t){e(t)}),(function(e){t(e)}))}},{key:"authorize",value:function(e,t,n){var o=this;return fetch(this.ADDRESS+"/login/authorize",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({code:e})}).then((function(e){return e.json()})).then((function(e){o.parseJWT(e),t()}),(function(e){n(e)})),!0}},{key:"authenticate",value:function(e,t,n,o){var r=this;return fetch(this.ADDRESS+"/login/authenticate",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){r.parseJWT(e),n(e)}),(function(e){o(e)})),!0}},{key:"register",value:function(e,t,n,o,r,a){var i=JSON.stringify({username:e,password:t,email:n,agree:o});return(null===n||void 0===n||n.length<1)&&(i=JSON.stringify({username:e,password:t,agree:o})),fetch(this.ADDRESS+"/login/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){r(e)}),(function(e){a(e)})),!0}},{key:"updateLoginButton",value:function(){e.loginButton&&e.loginButton.updateLoginState()}},{key:"refresh",value:function(t,n){var o=this,r=localStorage.getItem(this.REFRESH_TOKEN);return void 0===r?(n("Not logged in."),!1):(fetch(this.ADDRESS+"/login/refresh",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:r})}).then((function(e){return e.json()})).then((function(r){void 0!==r.success?r.success?o.parseJWT(r)?t():n("Didn't undertand the response from the server."):(e.logout(),void 0!==r.reason?n(r.reason):n("Unsuccessful refresh of access token.")):n("Unknown error on refreshing access token.")}),(function(e){n(e)})),!0)}},{key:"fetchSecureGET",value:function(e,t,n){var o=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=sessionStorage.getItem(this.ACCESS_TOKEN);return void 0===a||this.isAccessTokenExpired()?r?(this.refresh((function(){o.fetchSecureGET(e,t,n,r=!1)}),n),!0):(n("Not logged in."),!1):(fetch(this.ADDRESS+"/secure/"+e,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},method:"GET"}).then((function(a){401===a.status&&r?o.refresh((function(){o.fetchSecureGET(e,t,n,r=!1)}),n):a.json().then((function(e){t(e)}),(function(e){n(e)}))})),!0)}},{key:"fetchSecurePOST",value:function(e,t,n,o){var r=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=sessionStorage.getItem(this.ACCESS_TOKEN);return void 0===i?a?(this.refresh((function(){r.fetchSecurePOST(e,n,o,a=!1)}),o),!0):(o("Not logged in."),!1):(fetch(this.ADDRESS+"/secure/"+e,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},method:"POST",body:JSON.stringify(t)}).then((function(i){401===i.status&&a?r.refresh((function(){r.fetchSecurePOST(e,t,n,o,a=!1)}),o):i.json().then((function(e){n(e)}),(function(e){o(e)}))})),!0)}},{key:"getUsername",value:function(){return localStorage.getItem(this.USERNAME)}},{key:"logout",value:function(){sessionStorage.removeItem(this.ACCESS_TOKEN),sessionStorage.removeItem(this.ACCESS_TOKEN_EXPIRY),localStorage.removeItem(this.REFRESH_TOKEN),localStorage.removeItem(this.REFRESH_TOKEN_EXPIRY),localStorage.removeItem(this.USERNAME),this.updateLoginButton()}},{key:"isLoggedIn",value:function(){var t=void 0!==this.getUsername()&&null!==this.getUsername();return t&&e.isRefreshTokenExpired()&&(e.logout(),t=!1),t}},{key:"parseJWT",value:function(e){if(void 0===e.access_token)return this.logout(),!1;sessionStorage.setItem(this.ACCESS_TOKEN,e.access_token),localStorage.setItem(this.REFRESH_TOKEN,e.refresh_token);var t=e.access_token.split(".");if(null!==t&&3===t.length){var n=atob(t[1]);n=JSON.parse(n),sessionStorage.setItem(this.ACCESS_TOKEN_EXPIRY,n.exp)}localStorage.setItem(this.USERNAME,e.username);var o=JSON.parse(atob(e.refresh_token.split(".")[1]));return localStorage.setItem(this.REFRESH_TOKEN_EXPIRY,o.exp),this.updateLoginButton(),!0}},{key:"isAccessTokenExpired",value:function(){var e=sessionStorage.getItem(this.ACCESS_TOKEN_EXPIRY);return void 0===e||null===e||new Date(1e3*parseInt(e))-new Date<0}},{key:"isRefreshTokenExpired",value:function(){var e=localStorage.getItem(this.REFRESH_TOKEN_EXPIRY);return void 0===e||null===e||new Date(1e3*parseInt(e))-new Date<0}},{key:"ACCESS_TOKEN",get:function(){return"access_token"}},{key:"ACCESS_TOKEN_EXPIRY",get:function(){return"access_token_expiry"}},{key:"REFRESH_TOKEN",get:function(){return"refresh_token"}},{key:"REFRESH_TOKEN_EXPIRY",get:function(){return"refresh_token_expiry"}},{key:"USERNAME",get:function(){return"username"}},{key:"ADDRESS",get:function(){return"https://api.brawl.ai"}}]),e}();a.loginButton=null,t.a=a},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(70);function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(o.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(77);function r(e,t){if(e){if("string"===typeof e)return Object(o.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(o.a)(e,t):void 0}}},77:function(e,t,n){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,"a",(function(){return o}))},79:function(e,t,n){"use strict";var o=n(63),r=n(11),a=n(12),i=n(62),s=n(7),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"defaultFiles",value:function(){return[{name:"New Folder",open:!0,data:[{name:"Hello World.py",data:"# This is example code!\n\nimport json\n\nmessage = json.loads(input())\n\nheight_map = message['heightMap']\n#print(\"map:\", height_map)\n\nunits = message['units']\nprint(\"Got the following units:\")\nfor unit in units:\n    print(unit)\nprint(\"cost of units:\", message['cost']) # Total cost of the squad\n\nmessage = json.loads(input())\nif message['action'] == 'startTurn':\n    print(f\"First turn has started! Got {message['timeLeft']} seconds left and the time is ticking.\")\n\nprint(\"Hello world!\")\n\nprint(\"Lets finish this turn!\")\nprint(json.dumps({\n    'action': 'endTurn'\n}))\n",start:!0}]}]}},{key:"renameProject",value:function(t,n,o){var r=s.c.warning("Renaming "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("rename_project",{oldName:t,newName:n},(function(a){e.finishToast(a,r,"Failed to rename "," renamed to "+n+".",t,o)}),(function(o){e.finishToast(o,r,"Failed to rename "," renamed to "+n+".",t,void 0)}))}},{key:"loadFiles",value:function(t,n){e.postWithToast("get_project_files",t,"Loading files for ","Failed to load files for "," files loaded.",n)}},{key:"loadUnits",value:function(t,n){e.postWithToast("get_project_units",t,"Loading units for ","Failed to load units for "," units loaded.",n)}},{key:"deleteProject",value:function(t,n){e.postWithToast("delete_project",t,"Deleting ","Failed to delete "," deleted.",n)}},{key:"launchProject",value:function(t,n){e.postWithToast("launch_project",t,"Launching ","Failed to launch "," launched.",n)}},{key:"listProjects",value:function(t){e.get("list_projects",t)}},{key:"createProject",value:function(t,n){e.postWithToast("create_project",t,"Creating ","Failed to create "," created.",n)}},{key:"getProgress",value:function(t,n){e.postWithToast("get_project_progress",t,"Loading ","Failed to load "," loaded.",n)}},{key:"getIdleTestResults",value:function(t,n){e.postWithToast("get_project_idle_test",t,"Loading ","Failed to load "," loaded.",n)}},{key:"getDefenderResults",value:function(t,n,o,r){e.postWithToastPayload("get_project_defense",t,{projectName:t,opponentUsername:n,opponentProjectName:o},"Loading ","Failed to load "," loaded.",r)}},{key:"getAttackerResults",value:function(t,n,o,r){e.postWithToastPayload("get_project_attack",t,{projectName:t,opponentUsername:n,opponentProjectName:o},"Loading ","Failed to load "," loaded.",r)}},{key:"getAttackerAndDefenderResults",value:function(t,n,o){e.postWithToastPayload("get_project_attack_and_defense",t,{projectName1:t,projectName2:n},"Loading ","Failed to load "," loaded.",o)}},{key:"post",value:function(e,t,n){i.a.fetchSecurePOST(e,{name:t},(function(e){n&&n(e)}),(function(t){console.log("POST ERROR: "+e),console.log(t),void 0!==t&&null!==t&&t.toString().length<100&&s.c.error(t.toString(),{autoClose:1e4})}))}},{key:"get",value:function(e,t){i.a.fetchSecureGET(e,(function(e){t&&t(e)}),(function(t){console.log("GET ERROR: "+e),console.log(t),void 0!==t&&null!==t&&t.toString().length<100&&s.c.error(t.toString(),{autoClose:1e4})}))}},{key:"duplicateProject",value:function(t,n,o){var r=s.c.warning("Duplicating "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("duplicate_project",{name:t,duplicateName:n},(function(n){e.finishToast(n,r,"Failed to duplicate "," duplicated.",t,o)}),(function(n){e.finishToast(n,r,"Failed to duplicate "," duplicated.",t,void 0)}))}},{key:"postWithToast",value:function(t,n,o,r,a,c){var u=s.c.warning(o+n+"...",{autoClose:!1});i.a.fetchSecurePOST(t,{name:n},(function(t){e.finishToast(t,u,r,a,n,c(t))}),(function(t){e.finishToast(t,u,r,a,n,void 0)}))}},{key:"postWithToastPayload",value:function(t,n,o,r,a,c,u){var l=s.c.warning(r+n+"...",{autoClose:!1});i.a.fetchSecurePOST(t,o,(function(t){e.finishToast(t,l,a,c,n,u(t))}),(function(t){e.finishToast(t,l,a,c,n,void 0)}))}},{key:"saveFiles",value:function(t,n,o){var r=s.c.warning("Saving "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("save_project_files",{name:t,files:JSON.stringify(n)},(function(n){e.finishToast(n,r,"Failed to save "," saved.",t,o)}),(function(n){e.finishToast(n,r,"Failed to save "," saved.",t,void 0)}))}},{key:"saveUnits",value:function(t,n,o){var r=s.c.warning("Saving "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("save_project_units",{name:t,units:JSON.stringify(n)},(function(n){e.finishToast(n,r,"Failed to save "," saved.",t,o)}),(function(n){e.finishToast(n,r,"Failed to save "," saved.",t,void 0)}))}},{key:"finishToast",value:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(void 0!==e)if(void 0!==e.success)if(e.success)s.c.update(t,{render:a+r,type:s.c.TYPE.SUCCESS,autoClose:500}),void 0!==i&&i();else if(void 0!==e.reason)if("field"===e.reason){var c,u="",l=Object(o.a)(e.field);try{for(l.s();!(c=l.n()).done;){var f=c.value;u.length>0&&(u+=" "),u+=f.reason}}catch(d){l.e(d)}finally{l.f()}s.c.update(t,{render:n+a+": "+u,type:s.c.TYPE.ERROR,autoClose:1e4})}else s.c.update(t,{render:n+a+": "+e.reason,type:s.c.TYPE.ERROR,autoClose:1e4});else s.c.update(t,{render:n+a+".",type:s.c.TYPE.ERROR,autoClose:1e4});else void 0!==e.reason?s.c.update(t,{render:n+a+": "+e.reason,type:s.c.TYPE.ERROR,autoClose:1e4}):(s.c.update(t,{render:n+a+": "+e,type:s.c.TYPE.ERROR,autoClose:1e4}),console.log(e));else s.c.update(t,{render:n+a+".",type:s.c.TYPE.ERROR,autoClose:1e4}),console.log("results is undefined!")}},{key:"timeSince",value:function(e){if(null===e||void 0===e||""===e)return"not yet";var t=Math.floor((Date.now()-Date.parse(e))/1e3),n=Math.floor(t/31536e3);return n>=1?n+(1===n?" year":" years"):(n=Math.floor(t/2592e3))>=1?n+(1===n?" month":" months"):(n=Math.floor(t/86400))>=1?n+(1===n?" day":" days"):(n=Math.floor(t/3600))>=1?n+(1===n?" hour":" hours"):(n=Math.floor(t/60))>=1?n+(1===n?" minute":" minutes"):Math.floor(t)+(1===n?" second":" seconds")}}]),e}();t.a=c},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(106);var r=n(70),a=n(107);function i(e,t){return Object(o.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){r=!0,a=c}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||Object(r.a)(e,t)||Object(a.a)()}}}]);