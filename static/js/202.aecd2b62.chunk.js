(this.webpackJsonppages=this.webpackJsonppages||[]).push([[202],{103:function(e,t,i){"use strict";function n(e){if(Array.isArray(e))return e}i.d(t,"a",(function(){return n}))},104:function(e,t,i){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(t,"a",(function(){return n}))},360:function(e,t,i){"use strict";i.r(t);var n=i(9),a=i(10),l=i(11),r=i(12),o=i(37),s=i(43),c=i(0),d=i.n(c),u=i(58),f=i(288),F=i(1);function m(e){return{paddingLeft:10*e+"px"}}function p(e){var t=e.path,i=e.openFile,n=e.renameFile,a=e.renamingFile,l=e.unSelectEditFileName,r=Object(c.useState)(t[t.length-1]),o=Object(s.a)(r,2),d=o[0],u=o[1];return f.a.equals(t,a)?Object(F.jsx)("input",{ref:function(e){null!==e&&e.focus()},className:"editor-file-name editor-file-name-editing",onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d!==t[t.length-1]&&n(t,d)},onBlur:function(){l(),u(t[t.length-1])},value:d}):Object(F.jsx)("button",{className:"editor-file-name editor-file-name-button",onClick:function(e){e.preventDefault(),i(t)},children:t[t.length-1]})}function j(e){var t=e.path,i=e.action,n=e.icon,a=e.rotation,l=e.contents,r=e.title;function o(e){e.preventDefault(),l?i(t,l):i(t)}return null!==a?Object(F.jsx)("button",{className:"editor-icon-button",title:r,onClick:o,children:Object(F.jsx)(u.a,{icon:n,rotation:a})}):Object(F.jsx)("button",{className:"editor-icon-button",title:r,onClick:o,children:Object(F.jsx)(u.a,{icon:n})})}function v(e){var t=e.file,i=e.path,n=e.openFile,a=e.editFileName,l=e.renameFile,r=e.currentFile,o=e.renamingFile,s=e.indentation,c=e.render,d=e.removeFile,v=e.restoreFile,h=e.duplicateFile,b=e.setStartFile,O=e.unSelectEditFileName,x="file";t.name.endsWith(".py")&&(x=["fab","python"]),t.start&&(x="play");var N="editor-file editor-side-item";f.a.equals(r,i)&&(N="editor-file editor-side-item editor-current-file");var S=!f.a.equals(i,o);i[0]===f.a.deletedFolderName?c.push(Object(F.jsxs)("div",{className:N,style:m(s),children:[Object(F.jsxs)("div",{className:"editor-folder-menu",children:[Object(F.jsx)(j,{icon:"pencil-alt",path:i,action:a,title:"Rename"}),Object(F.jsx)(j,{icon:"undo-alt",path:i,action:v,title:"Restore"}),Object(F.jsx)(j,{icon:"toilet",path:i,action:d,title:"Permanently delete"})]}),Object(F.jsxs)("div",{className:"editor-item-details",draggable:S,onDragStart:function(e){return e.dataTransfer.setData("text",JSON.stringify(i))},children:[Object(F.jsx)(u.a,{icon:x})," ",Object(F.jsx)(p,{path:i,openFile:n,renameFile:l,renamingFile:o,unSelectEditFileName:O})]})]},i)):c.push(Object(F.jsxs)("div",{className:N,style:m(s),children:[Object(F.jsxs)("div",{className:"editor-folder-menu",children:[Object(F.jsx)(j,{icon:"pencil-alt",path:i,action:a,title:"Rename"}),Object(F.jsx)(j,{icon:"play",path:i,action:b,title:"Set as start file"}),Object(F.jsx)(j,{icon:"copy",path:i,action:h,title:"Duplicate"}),Object(F.jsx)(j,{icon:"trash-alt",path:i,action:d,title:"Delete"})]}),Object(F.jsxs)("div",{className:"editor-item-details",draggable:S,onDragStart:function(e){return e.dataTransfer.setData("text",JSON.stringify(i))},children:[Object(F.jsx)(u.a,{icon:x})," ",Object(F.jsx)(p,{path:i,openFile:n,renameFile:l,renamingFile:o,unSelectEditFileName:O})]})]},i))}function h(e){var t=e.path,i=e.openFile,n=e.editFileName,a=e.renameFile,l=e.currentFile,r=e.renamingFile,s=e.indentation,c=e.render,d=e.newFile,b=e.removeFile,O=e.restoreFile,x=e.drop,N=e.duplicateFile,S=e.setStartFile,g=e.unSelectEditFileName;function y(e,t){e.preventDefault();var i=e.dataTransfer.getData("text");x(i,t)}var D=e.file,E="folder";if(D.open&&(E="folder-open"),D.name===f.a.deletedFolderName){E="trash-alt";var w=null;D.open&&(w=15),c.push(Object(F.jsx)("div",{className:"editor-open-folder editor-side-item",style:m(s),children:Object(F.jsxs)("div",{className:"editor-item-details",onDrop:function(e){return y(e,t)},onDragOver:function(e){return e.preventDefault()},children:[Object(F.jsx)(u.a,{icon:E,rotation:w})," ",Object(F.jsx)(p,{path:t,openFile:i,renameFile:a,renamingFile:r,unSelectEditFileName:g})]})},t))}else if(t[0]===f.a.deletedFolderName){var P=!f.a.equals(t,r);c.push(Object(F.jsxs)("div",{className:"editor-open-folder editor-side-item",style:m(s),children:[Object(F.jsxs)("div",{className:"editor-folder-menu",children:[Object(F.jsx)(j,{icon:"pencil-alt",path:t,action:n,title:"Rename"}),Object(F.jsx)(j,{icon:"undo-alt",path:t,action:O,title:"Restore"}),Object(F.jsx)(j,{icon:"toilet",path:t,action:b,title:"Permanently delete"})]}),Object(F.jsxs)("div",{className:"editor-item-details",draggable:P,onDrop:function(e){return y(e,t)},onDragStart:function(e){return e.dataTransfer.setData("text",JSON.stringify(t))},onDragOver:function(e){return e.preventDefault()},children:[Object(F.jsx)(u.a,{icon:E})," ",Object(F.jsx)(p,{path:t,openFile:i,renameFile:a,renamingFile:r,unSelectEditFileName:g})]})]},t))}else{var H=!f.a.equals(t,r);c.push(Object(F.jsxs)("div",{className:"editor-open-folder editor-side-item",style:m(s),children:[Object(F.jsxs)("div",{className:"editor-folder-menu",children:[Object(F.jsx)(j,{icon:"pencil-alt",path:t,action:n,title:"Rename"}),Object(F.jsx)(j,{icon:"file-medical",path:t,action:d,title:"New file"}),Object(F.jsx)(j,{icon:"folder-plus",path:t,action:d,title:"New folder",contents:[]}),Object(F.jsx)(j,{icon:"trash-alt",path:t,action:b,title:"Delete"})]}),Object(F.jsxs)("div",{className:"editor-item-details",draggable:H,onDrop:function(e){return y(e,t)},onDragStart:function(e){return e.dataTransfer.setData("text",JSON.stringify(t))},onDragOver:function(e){return e.preventDefault()},children:[Object(F.jsx)(u.a,{icon:E})," ",Object(F.jsx)(p,{path:t,openFile:i,renameFile:a,renamingFile:r,unSelectEditFileName:g})]})]},t))}if(D.open){s++;var k,C=Object(o.a)(D.data);try{for(C.s();!(k=C.n()).done;){var T=k.value,I=t.slice();I.push(T.name);var U={file:T,path:I,openFile:i,editFileName:n,renameFile:a,currentFile:l,renamingFile:r,indentation:s,render:c,newFile:d,removeFile:b,restoreFile:O,duplicateFile:N,drop:x,setStartFile:S,unSelectEditFileName:g};f.a.isFolder(T)?h(U):v(U)}}catch(J){C.e(J)}finally{C.f()}}}function b(e){var t,i=e.currentFile,n=e.files,a=e.renamingFile,l=e.openFile,r=e.editFileName,s=e.renameFile,c=e.newFile,d=e.removeFile,u=e.restoreFile,F=e.drop,m=e.duplicateFile,p=e.setStartFile,j=e.unSelectEditFileName,b=[],O=Object(o.a)(n);try{for(O.s();!(t=O.n()).done;){var x=t.value,N={file:x,path:[x.name],openFile:l,editFileName:r,renameFile:s,currentFile:i,renamingFile:a,indentation:1,render:b,newFile:c,removeFile:d,restoreFile:u,drop:F,duplicateFile:m,setStartFile:p,unSelectEditFileName:j};f.a.isFolder(x)?h(N):v(N)}}catch(S){O.e(S)}finally{O.f()}return b}var O=function(e){Object(l.a)(i,e);var t=Object(r.a)(i);function i(e){var a;return Object(n.a)(this,i),(a=t.call(this,e)).openFile=function(e){var t=a.state.fileHandler.openFile(e);if(t.isFolder){if(f.a.isSubset(e,a.state.currentFilePath)){a.setState({currentFilePath:null});var i=a.state.openFileInEditor;null!==i&&i(null)}a.forceUpdate()}else{a.setState({currentFilePath:e});var n=a.state.openFileInEditor;null!==n&&n(e,t.file)}},a.newFile=function(e,t){a.state.fileHandler.newFile(e,t)&&a.forceUpdate()},a.removeFile=function(e){if(a.state.fileHandler.removeFile(e)){var t=a.state.openFileInEditor;null!==t&&t(null),a.forceUpdate()}},a.restoreFile=function(e){a.state.fileHandler.restoreFile(e),a.forceUpdate()},a.unSelectEditFileName=function(){a.setState({renamingFile:null})},a.editFileName=function(e){a.setState({renamingFile:e})},a.drop=function(e,t){e=JSON.parse(e),a.state.fileHandler.moveFile(e,t),a.forceUpdate()},a.duplicateFile=function(e){a.state.fileHandler.duplicateFile(e),a.forceUpdate()},a.setStartFile=function(e){a.state.fileHandler.setStartFile(e),a.forceUpdate()},a.onClicksaveFiles=function(e){e.preventDefault(),a.saveFiles()},a.onClickProjectTitleButton=function(e){e.preventDefault(),a.props.hideSidePanel()},a.saveFiles=function(){a.state.fileHandler.save()},a.unsaved=function(){document.documentElement.style.setProperty("--editor-save-button-display","block")},a.saved=function(){document.documentElement.style.setProperty("--editor-save-button-display","none")},a.renameFile=function(e,t){var i=null!=t?t.trim():null;if(null!=t){if(a.state.fileHandler.renameFile(e,i)){var n=a.state.currentFilePath;if(f.a.isSubset(e,n)){var l=n.slice();l[e.length-1]=i,a.setState({currentFilePath:l});var r=a.state.updateCurrentFilePath;null!==r&&r(l)}}a.setState({renamingFile:null})}},a.state={projectName:e.projectName,fileHandler:e.fileHandler,files:e.fileHandler.files,currentFilePath:[],openFileInEditor:e.openFile,renameFileInEditor:e.renameFile,removeFileInEditor:e.removeFile,renamingFile:null,updateCurrentFilePath:e.updateCurrentFilePath},null!==e.registerSidePanelSave&&e.registerSidePanelSave(a.saveFiles),void 0!==e.fileHandler&&(e.fileHandler.notifySave=a.saved,e.fileHandler.notifyUnsave=a.unsaved,e.fileHandler.saveState===f.a.saved?a.saved():a.unsaved()),a}return Object(a.a)(i,[{key:"render",value:function(){var e=this,t=this.state,i=t.projectName,n=t.files,a=t.currentFilePath,l=t.renamingFile;return Object(F.jsxs)("div",{className:"editor-side-panel",children:[Object(F.jsxs)("div",{className:"editor-project-title",children:[Object(F.jsxs)("div",{className:"editor-folder-menu",children:[Object(F.jsx)(j,{icon:"file-medical",path:[],action:this.newFile,title:"New file"}),Object(F.jsx)(j,{icon:"folder-plus",path:[],action:this.newFile,title:"New folder",contents:[]})]}),Object(F.jsxs)("button",{className:"editor-project-title-button",onClick:this.onClickProjectTitleButton,children:[Object(F.jsx)(u.a,{icon:"cube"}),Object(F.jsx)("span",{className:"editor-project-name",onDrop:function(t){t.preventDefault(),e.drop(t.dataTransfer.getData("text"))},onDragOver:function(e){return e.preventDefault()},children:i})]})]}),Object(F.jsx)(b,{openFile:this.openFile,editFileName:this.editFileName,renameFile:this.renameFile,newFile:this.newFile,removeFile:this.removeFile,restoreFile:this.restoreFile,drop:this.drop,duplicateFile:this.duplicateFile,setStartFile:this.setStartFile,unSelectEditFileName:this.unSelectEditFileName,currentFile:a,files:n,renamingFile:l}),Object(F.jsx)("button",{className:"editor-side-panel-save active-button",onClick:this.onClicksaveFiles,title:"Save all modifications.",children:"Save files"})]})}}]),i}(d.a.Component);t.default=O},43:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(103);var a=i(70),l=i(104);function r(e,t){return Object(n.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,a=!1,l=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(s){a=!0,l=s}finally{try{n||null==o.return||o.return()}finally{if(a)throw l}}return i}}(e,t)||Object(a.a)(e,t)||Object(l.a)()}}}]);