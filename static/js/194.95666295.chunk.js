(this.webpackJsonppages=this.webpackJsonppages||[]).push([[194],{100:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},153:function(e,t,n){"use strict";var a=n(9),o=n(10),r=n(61),i=n(85),s=n(6),c=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"fetchGET",value:function(e,t,n){return fetch(this.ADDRESS+"/open/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.json()})).then((function(e){t(e)}),(function(e){n(e)})),!0}},{key:"fetchPOST",value:function(e,t,n,a){return fetch(r.a.ADDRESS+"/open/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){n(e)}),(function(e){a(e)})),!0}},{key:"getRanking",value:function(t,n,a,o){e.fetchPOST("get_ranking",{rank:t,count:n},a,(function(e){s.c.error("Failed to load ranking results.",{autoClose:1e4}),null!=o&&o(e)}))}},{key:"getBrawl",value:function(t,n,a,o,r){e.postWithToastPayload("get_brawl",n,{attackerUsername:t,attackerProjectName:n,defenderUsername:a,defenderProjectName:o},"Loading ","Failed to load "," loaded.",r)}},{key:"getProgress",value:function(t,n,a){e.postWithToastPayload("get_progress",n,{username:t,projectName:n},"Loading ","Failed to load "," loaded.",a)}},{key:"post",value:function(t,n,a){e.fetchPOST(t,{name:n},(function(e){a&&a(e)}),(function(e){console.log("POST ERROR: "+t),console.log(e),void 0!==e&&null!==e&&e.toString().length<100&&s.c.error(e.toString(),{autoClose:1e4})}))}},{key:"get",value:function(t,n){e.fetchGET(t,(function(e){n&&n(e)}),(function(e){console.log("GET ERROR: "+t),console.log(e),void 0!==e&&null!==e&&e.toString().length<100&&s.c.error(e.toString(),{autoClose:1e4})}))}},{key:"postWithToast",value:function(t,n,a,o,r,c){var l=s.c.warning(a+n+"...",{autoClose:!1});e.fetchPOST(t,{name:n},(function(e){i.a.finishToast(e,l,o,r,n,c(e))}),(function(e){i.a.finishToast(e,l,o,r,n,void 0)}))}},{key:"postWithToastPayload",value:function(t,n,a,o,r,c,l){var u=s.c.warning(o+n+"...",{autoClose:!1});e.fetchPOST(t,a,(function(e){i.a.finishToast(e,u,r,c,n,l(e))}),(function(e){i.a.finishToast(e,u,r,c,n,void 0)}))}}]),e}();t.a=c},289:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(100);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(58);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(70);var o=n(58),r=n(71);function i(e,t){return Object(a.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(c){o=!0,r=c}finally{try{a||null==s.return||s.return()}finally{if(o)throw r}}return n}}(e,t)||Object(o.a)(e,t)||Object(r.a)()}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(67);function o(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(16),o=n(15),r=n.n(o),i=n(0),s=n.n(i);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}function j(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,a=t.indexOf(":"),o=p(t.slice(0,a)),r=t.slice(a+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=r:e[o]=r,e}),{})}var m=!1;try{m=!0}catch(y){}function g(e){return a.c.icon?a.c.icon(e):null===e?null:"object"===c(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function v(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?l({},e,t):{}}function b(e){var t=e.forwardedRef,n=f(e,["forwardedRef"]),o=n.icon,r=n.mask,i=n.symbol,s=n.className,c=n.title,u=n.titleId,p=g(o),j=v("classes",[].concat(h(function(e){var t,n=e.spin,a=e.pulse,o=e.fixedWidth,r=e.inverse,i=e.border,s=e.listItem,c=e.flip,u=e.size,d=e.rotation,f=e.pull,h=(l(t={"fa-spin":n,"fa-pulse":a,"fa-fw":o,"fa-inverse":r,"fa-border":i,"fa-li":s,"fa-flip-horizontal":"horizontal"===c||"both"===c,"fa-flip-vertical":"vertical"===c||"both"===c},"fa-".concat(u),"undefined"!==typeof u&&null!==u),l(t,"fa-rotate-".concat(d),"undefined"!==typeof d&&null!==d&&0!==d),l(t,"fa-pull-".concat(f),"undefined"!==typeof f&&null!==f),l(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(h).map((function(e){return h[e]?e:null})).filter((function(e){return e}))}(n)),h(s.split(" ")))),y=v("transform","string"===typeof n.transform?a.c.transform(n.transform):n.transform),x=v("mask",g(r)),S=Object(a.a)(p,d({},j,{},y,{},x,{symbol:i,title:c,titleId:u}));if(!S)return function(){var e;!m&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",p),null;var k=S.abstract,N={ref:t};return Object.keys(n).forEach((function(e){b.defaultProps.hasOwnProperty(e)||(N[e]=n[e])})),O(k[0],N)}b.displayName="FontAwesomeIcon",b.propTypes={border:r.a.bool,className:r.a.string,mask:r.a.oneOfType([r.a.object,r.a.array,r.a.string]),fixedWidth:r.a.bool,inverse:r.a.bool,flip:r.a.oneOf(["horizontal","vertical","both"]),icon:r.a.oneOfType([r.a.object,r.a.array,r.a.string]),listItem:r.a.bool,pull:r.a.oneOf(["right","left"]),pulse:r.a.bool,rotation:r.a.oneOf([0,90,180,270]),size:r.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:r.a.bool,symbol:r.a.oneOfType([r.a.bool,r.a.string]),title:r.a.string,transform:r.a.oneOfType([r.a.string,r.a.object]),swapOpacity:r.a.bool},b.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var O=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var o=(n.children||[]).map((function(n){return e(t,n)})),r=Object.keys(n.attributes||{}).reduce((function(e,t){var a=n.attributes[t];switch(t){case"class":e.attrs.className=a,delete n.attributes.class;break;case"style":e.attrs.style=j(a);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=a:e.attrs[p(t)]=a}return e}),{attrs:{}}),i=a.style,s=void 0===i?{}:i,c=f(a,["style"]);return r.attrs.style=d({},r.attrs.style,{},s),t.apply(void 0,[n.tag,d({},r.attrs,{},c)].concat(h(o)))}.bind(null,s.a.createElement)},61:function(e,t,n){"use strict";var a=n(9),o=n(10),r=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"loginUrl",value:function(e,t){fetch(this.ADDRESS+"/login/").then((function(e){return e.json()})).then((function(t){e(t)}),(function(e){t(e)}))}},{key:"authorize",value:function(e,t,n){var a=this;return fetch(this.ADDRESS+"/login/authorize",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({code:e})}).then((function(e){return e.json()})).then((function(e){a.parseJWT(e),t()}),(function(e){n(e)})),!0}},{key:"changePassword",value:function(e,t,n,a){return fetch(this.ADDRESS+"/login/change_password",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:this.getUsername(),oldPassword:e,newPassword:t})}).then((function(e){return e.json()})).then((function(e){n(e)}),(function(e){a(e)})),!0}},{key:"requestPasswordResetCode",value:function(e,t,n){return fetch(this.ADDRESS+"/login/reset_password_request",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:e})}).then((function(e){return e.json()})).then((function(e){t(e)}),(function(e){n(e)})),!0}},{key:"usePasswordResetCode",value:function(e,t,n,a){return fetch(this.ADDRESS+"/login/reset_password",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({code:e,password:t})}).then((function(e){return e.json()})).then((function(e){n(e)}),(function(e){a(e)})),!0}},{key:"requestAddEmail",value:function(e,t,n,a){return fetch(this.ADDRESS+"/login/add_email",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:this.getUsername(),email:e,password:t})}).then((function(e){return e.json()})).then((function(e){n(e)}),(function(e){a(e)})),!0}},{key:"requestEmailRemovalCode",value:function(t,n,a){return fetch(this.ADDRESS+"/login/remove_email_request",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:this.getUsername(),password:t})}).then((function(e){return e.json()})).then((function(t){null!=t.success&&t.success&&(e.emailDeletionWarning=!0,e.updateWarning()),n(t)}),(function(e){a(e)})),!0}},{key:"removeEmailWithoutCode",value:function(t,n,a){return fetch(this.ADDRESS+"/login/remove_email_without_code",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:this.getUsername(),password:t})}).then((function(e){return e.json()})).then((function(t){null!=t.success&&t.success&&(e.emailDeletionWarning=!1,e.updateWarning()),n(t)}),(function(e){a(e)})),!0}},{key:"removeEmailWithCode",value:function(t,n,a){return fetch(this.ADDRESS+"/login/remove_email_with_code",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({code:t})}).then((function(e){return e.json()})).then((function(t){null!=t.success&&t.success&&e.getRegisteredEmail((function(){}),(function(){})),n(t)}),(function(e){a(e)})),!0}},{key:"getRegisteredEmail",value:function(t,n){var a=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=sessionStorage.getItem(this.ACCESS_TOKEN);return void 0===r||this.isAccessTokenExpired()?o?(this.refresh((function(){a.getRegisteredEmail(t,n,o=!1)}),n),!0):(n("Not logged in."),!1):(fetch(this.ADDRESS+"/login/get_email",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:r})}).then((function(e){if(401!==e.status||!o)return e.json();a.refresh((function(){a.getRegisteredEmail(t,n,o=!1)}),n)})).then((function(n){e.emailDeletionWarning=null!=n.emailExpiry,e.updateWarning(),t(n)}),(function(e){n(e)})),!0)}},{key:"authenticate",value:function(e,t,n,a){var o=this;return fetch(this.ADDRESS+"/login/authenticate",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){o.parseJWT(e),n(e)}),(function(e){a(e)})),!0}},{key:"register",value:function(e,t,n,a,o,r){var i=JSON.stringify({username:e,password:t,email:n,agree:a});return(null===n||void 0===n||n.length<1)&&(i=JSON.stringify({username:e,password:t,agree:a})),fetch(this.ADDRESS+"/login/register",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){o(e)}),(function(e){r(e)})),!0}},{key:"updateLoginButton",value:function(){e.loginButton&&e.loginButton.updateLoginState()}},{key:"updateWarning",value:function(){null!=e.loginButton&&e.loginButton.updateWarning()}},{key:"refresh",value:function(t,n){var a=this,o=localStorage.getItem(this.REFRESH_TOKEN);return void 0===o?(n("Not logged in."),!1):(fetch(this.ADDRESS+"/login/refresh",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:o})}).then((function(e){return e.json()})).then((function(o){void 0!==o.success?o.success?a.parseJWT(o)?t():n("Didn't undertand the response from the server."):(e.logout(),void 0!==o.reason?n(o.reason):n("Unsuccessful refresh of access token.")):n("Unknown error on refreshing access token.")}),(function(e){n(e)})),!0)}},{key:"fetchSecureGET",value:function(e,t,n){var a=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=sessionStorage.getItem(this.ACCESS_TOKEN);return void 0===r||this.isAccessTokenExpired()?o?(this.refresh((function(){a.fetchSecureGET(e,t,n,o=!1)}),n),!0):(n("Not logged in."),!1):(fetch(this.ADDRESS+"/secure/"+e,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r},method:"GET"}).then((function(r){401===r.status&&o?a.refresh((function(){a.fetchSecureGET(e,t,n,o=!1)}),n):r.json().then((function(e){t(e)}),(function(e){n(e)}))})),!0)}},{key:"fetchSecurePOST",value:function(e,t,n,a){var o=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=sessionStorage.getItem(this.ACCESS_TOKEN);return void 0===i?r?(this.refresh((function(){o.fetchSecurePOST(e,n,a,r=!1)}),a),!0):(a("Not logged in."),!1):(fetch(this.ADDRESS+"/secure/"+e,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+i},method:"POST",body:JSON.stringify(t)}).then((function(i){401===i.status&&r?o.refresh((function(){o.fetchSecurePOST(e,t,n,a,r=!1)}),a):i.json().then((function(e){n(e)}),(function(e){a(e)}))})),!0)}},{key:"getUsername",value:function(){return localStorage.getItem(this.USERNAME)}},{key:"logout",value:function(){sessionStorage.removeItem(this.ACCESS_TOKEN),sessionStorage.removeItem(this.ACCESS_TOKEN_EXPIRY),localStorage.removeItem(this.REFRESH_TOKEN),localStorage.removeItem(this.REFRESH_TOKEN_EXPIRY),localStorage.removeItem(this.USERNAME),this.updateLoginButton()}},{key:"isLoggedIn",value:function(){var t=void 0!==this.getUsername()&&null!==this.getUsername();return t&&e.isRefreshTokenExpired()&&(e.logout(),t=!1),t}},{key:"parseJWT",value:function(e){if(void 0===e.access_token)return this.logout(),!1;sessionStorage.setItem(this.ACCESS_TOKEN,e.access_token),localStorage.setItem(this.REFRESH_TOKEN,e.refresh_token);var t=e.access_token.split(".");if(null!==t&&3===t.length){var n=atob(t[1]);n=JSON.parse(n),sessionStorage.setItem(this.ACCESS_TOKEN_EXPIRY,n.exp)}localStorage.setItem(this.USERNAME,e.username);var a=JSON.parse(atob(e.refresh_token.split(".")[1]));return localStorage.setItem(this.REFRESH_TOKEN_EXPIRY,a.exp),this.updateLoginButton(),!0}},{key:"isAccessTokenExpired",value:function(){var e=sessionStorage.getItem(this.ACCESS_TOKEN_EXPIRY);return void 0===e||null===e||new Date(1e3*parseInt(e))-new Date<0}},{key:"isRefreshTokenExpired",value:function(){var e=localStorage.getItem(this.REFRESH_TOKEN_EXPIRY);return void 0===e||null===e||new Date(1e3*parseInt(e))-new Date<0}},{key:"ACCESS_TOKEN",get:function(){return"access_token"}},{key:"ACCESS_TOKEN_EXPIRY",get:function(){return"access_token_expiry"}},{key:"REFRESH_TOKEN",get:function(){return"refresh_token"}},{key:"REFRESH_TOKEN_EXPIRY",get:function(){return"refresh_token_expiry"}},{key:"USERNAME",get:function(){return"username"}},{key:"ADDRESS",get:function(){return"https://api.brawl.ai"}}]),e}();r.emailDeletionWarning=!1,r.loginButton=null,t.a=r},67:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},70:function(e,t,n){"use strict";function a(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return a}))},71:function(e,t,n){"use strict";function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return a}))},779:function(e,t,n){"use strict";n.r(t);var a=n(289),o=n(40),r=n(37),i=n(0),s=n(61),c=n(85),l=n(59),u=n(1);function d(e){var t=e.text;return 1===e.project?Object(u.jsx)("span",{className:"results-attacker-colour",children:t}):Object(u.jsx)("span",{className:"results-defender-colour",children:t})}function f(e){var t=e.text;return Object(u.jsx)("span",{className:"results-dimmed-colour",children:t})}function h(e){var t=e.units,n=e.project,a=e.time,o=[];null!=t&&null!=t.length||console.log("WARNING: unit does not have length or is null! "+a);for(var r=0;r<t.length;r++)r>0&&r<t.length-1?o.push(Object(u.jsx)("span",{children:", "},t[r].unit+"-"+n+"-"+a+"-colon-span-"+r)):r>0&&r===t.length-1&&o.push(Object(u.jsx)("span",{children:" and "},t[r].unit+"-"+n+"-"+a+"-and-span-"+r)),o.push(Object(u.jsx)(d,{text:t[r].unit,project:n},t[r].unit+"-"+n+"-"+a+"- "+r));return o}function p(e,t){var n,a=[],o=Object(r.a)(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;i!==t&&a.push(i)}}catch(s){o.e(s)}finally{o.f()}return a}function j(e,t){var n=e.events[e.events.length-1];e.events.push(Object.assign({},n,t))}function m(e,t,n,a,o,i,s){var c=null,l=e.project;if(t.project===e.project)if(t.unit===n.name)c=n;else{var f,p=Object(r.a)(a.units);try{for(p.s();!(f=p.n()).done;){var m=f.value;m.name===t.unit&&(c=m)}}catch(x){p.e(x)}finally{p.f()}}else if(t.project!==e.project){l=1===e.project?2:1;var g,v=Object(r.a)(o.units);try{for(v.s();!(g=v.n()).done;){var b=g.value;b.name===t.unit&&(c=b)}}catch(x){v.e(x)}finally{v.f()}}if(null==c&&console.log("WARNING: Could not find the visible unit "+t.unit+" from project "+l+"!"),null!=c){var O="new"===t.reason||"visible"===t.reason;if(j(c,{time:i,visible:O,health:t.health,armorBonus:t.armorBonus,enemyName:t.unitEnemyName}),O){var y=1;1===l&&(y=2),s.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:c.name,project:l})," is now visible to ",Object(u.jsx)(h,{units:t.seenBy,project:y,time:i}),""]}),time:i})}else s.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:c.name,project:l})," is now invisible to the enemy."]}),time:i})}}function g(e,t,n,a,i,s,c,l,f){var h=t,p=n;2===e.project&&(h=n,p=t);var g,O=null,y=Object(r.a)(h.units);try{for(y.s();!(g=y.n()).done;){var x=g.value;if(x.name===e.unit){O=x;break}}}catch(oe){y.e(oe)}finally{y.f()}if(null===O)return console.log("WARNING: could not find unit in move: '"+e.project+"':'"+e.unit+"'"),c;var S=O.events[O.events.length-1],k=e.path[e.path.length-1];f.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:O.name,project:e.project})," moves from ["+S.location.x+", "+S.location.z+"] to ["+k[0]+", "+k[1]+"]"]}),time:c});for(var N=[],T=e.path,w=0;w<T.length;w++){if(w>0){var E=T[w-1],R=T[w],P=150;E[0]!==R[0]&&E[1]!==R[1]&&(P*=1.4),c+=P}var A=0;if(0!==a[T[w][1]][T[w][0]]){var C=i[T[w][1]][T[w][0]];(-1===C||C>=c)&&(A=1),-1!==C&&C<c&&(A=.1)}j(O,{time:c,location:{x:T[w][0],y:A,z:T[w][1]},dashing:e.actionsUsed>=2,moving:!0});for(var D=0;D<l.length;D++){var _=l[D],I=null;if(_.project===e.project&&_.unit===O.name)I=_.location;else if(_.project!==e.project&&null!=_.seenBy){var z,W=Object(r.a)(_.seenBy);try{for(W.s();!(z=W.n()).done;){var M=z.value;M.unit===O.name&&(I=M.location)}}catch(oe){W.e(oe)}finally{W.f()}}if(null!=I&&I[0]===T[w][0]&&I[1]===T[w][1])for(;D>0;)m(e,_=l[0],O,h,p,c,f),l.splice(0,1),D--}var F=!1;if(s.length>0){var B,U=T[w][0],L=T[w][1],J=Object(r.a)(s);try{for(J.s();!(B=J.n()).done;){var G=B.value;if(null!=G.target&&U===G.target[0]&&L===G.target[0]){var K=b(G,t,n,a,c,f),Y=Object(o.a)(K,2),H=Y[0],X=Y[1];c=H,N=N.concat(X),F=!0}else if(null!=G.targets){var q,V=Object(r.a)(G.targets);try{for(V.s();!(q=V.n()).done;){var $=q.value;if(U===$.location[0]&&L===$.location[1]){var Q=b(G,t,n,a,c,f),Z=Object(o.a)(Q,2),ee=Z[0],te=Z[1];c=ee,N=N.concat(te),F=!0}}}catch(oe){V.e(oe)}finally{V.f()}}}}catch(oe){J.e(oe)}finally{J.f()}}if(F){var ne=!1;if(O.events.length>0){var ae=O.events[O.events.length-1];if(void 0!==ae.dead&&ae.dead){console.log("WARNING: Unit "+e.unit+" should be dead!"),ne=!0;break}}ne||j(O,{time:c,location:{x:T[w][0],y:A,z:T[w][1]}})}}return j(O,{time:c,actions:e.actionsLeft,dashing:!1,moving:!1}),v(l,t,n,c,f),[c,N]}function v(e,t,n,a,o){if(e.length>0)for(var i=e.length-1;i>=0;i--){var s=e[i],c=t;2===s.project&&(c=n);var l,f=null,p=Object(r.a)(c.units);try{for(p.s();!(l=p.n()).done;){var m=l.value;m.name===s.unit&&(f=m)}}catch(b){p.e(b)}finally{p.f()}if(null==f&&console.log("WARNING: Could not find the visible unit!"),null!=f){var g="new"===s.reason||"visible"===s.reason;if(j(f,{time:a,visible:g,health:s.health,armorBonus:s.armorBonus,enemyName:s.unitEnemyName}),g){var v=1;1===s.project&&(v=2),o.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:f.name,project:s.project})," is now visible to ",Object(u.jsx)(h,{units:s.seenBy,project:v,time:a}),""]}),time:a})}else o.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:f.name,project:s.project})," is now invisible to the enemy."]}),time:a})}e.splice(i,1)}}function b(e,t,n,a,o,i){var s=t;2===e.project&&(s=n);var c,l=null,h=Object(r.a)(s.units);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(p.name===e.unit){l=p;break}}}catch(G){h.e(G)}finally{h.f()}var m=[];if(null!=e.targets){var g,v=Object(r.a)(e.targets);try{for(v.s();!(g=v.n()).done;){var b=g.value,O=t;2===b.project&&(O=n);var y,x=Object(r.a)(O.units);try{for(x.s();!(y=x.n()).done;){var S=y.value;if(S.name===b.unit){b.u=S,m.push(b);break}}}catch(G){x.e(G)}finally{x.f()}}}catch(G){v.e(G)}finally{v.f()}}if(null===l)return console.log("WARNING: could not find unit in hit: '"+e.project+"':'"+e.unit+"'"),o;var k=!1,N={x:-1,z:-1};null!=l.events&&l.events.length>0?N=l.events[l.events.length-1].location:(N.x=l.location[0],N.z=l.location[1]);var T=150;N.x===e.location[0]&&N.z===e.location[1]||(k=!0,j(l,{time:o,location:{x:N.x,y:0,z:N.z},peeking:!0}),j(l,{time:o+=300,location:{x:e.location[0],y:0,z:e.location[1]}}));var w=[],E=[0,0];null!=e.path&&e.path.length>0&&(E=e.path[e.path.length-1]),m.length>0&&(E=m[m.length-1].location);var R=E[0]-e.location[0],P=E[1]-e.location[1],A=20*Math.sqrt(R*R+P*P);A<250&&(A=250);var C="";null!=e.overwatch&&e.overwatch&&(C=" from overwatch"),i.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:l.name,project:e.project})," shoots"+C," with "+e.item," from ["+e.location[0]+", "+e.location[1]+"] towards ["+E[0]+", "+E[1]+"]"]}),time:o}),w.push({time:o,duration:A,source:{x:e.location[0],z:e.location[1]},target:{x:E[0],z:E[1]}});var D=l.events[l.events.length-1],_=1;"rifle"===e.item?_=2:"pistol"===e.item&&(_=1),j(l,{time:o,ammo:D.ammo-1,actions:D.actions-_,shooting:!0}),o+=A;var I=!1,z=!1,W=!1;if(m.length>0){var M,F=Object(r.a)(m);try{for(F.s();!(M=F.n()).done;){var B=M.value;if(!B.hit){i.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:l.name,project:e.project})," missed ",Object(u.jsx)(d,{text:B.u.name,project:B.project}),Object(u.jsx)(f,{text:" (hit: "+B.hitRoll+" / "+B.hitChance+")"})]}),time:o});break}B.crit?i.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:l.name,project:e.project})," critically hits ",Object(u.jsx)(d,{text:B.u.name,project:B.project})," dealing "+B.damage+" damage",Object(u.jsx)(f,{text:" (hit: "+B.hitRoll+" / "+B.hitChance+",  crit: "+B.critRoll+" / "+B.critChance+",  distance: "+B.distance+",  defence: "+B.defense+")"})]}),time:o}):i.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:l.name,project:e.project})," hits ",Object(u.jsx)(d,{text:B.u.name,project:B.project})," dealing "+B.damage+" damage",Object(u.jsx)(f,{text:" (hit: "+B.hitRoll+" / "+B.hitChance+",  crit: "+B.critRoll+" / "+B.critChance+",  distance: "+B.distance+",  defence: "+B.defense+")"})]}),time:o});var U=B.u.events[B.u.events.length-1];if(!U.dead){var L=o,J=!1;null!=U&&(U.location.x===B.location[0]&&U.location.y===B.location[1]||(J=!0,L-=T,j(B.u,{time:L,peeking:!0}),L+=T)),j(B.u,{time:L,location:{x:B.location[0],y:0,z:B.location[1]},hit:!0,health:B.health,damaged:!0}),L+=1e3,I=!0,j(B.u,{time:L,location:{x:B.location[0],y:0,z:B.location[1]},hit:!1,damaged:!1}),B.health<=0?(i.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:B.u.name,project:B.project})," is incapacitated."]}),time:o}),j(B.u,{time:L,location:{x:B.location[0],y:0,z:B.location[1]},dead:!0}),L+=100,z=!0):J&&(L+=T,j(B.u,{time:L,location:{x:U.location.x,y:0,z:U.location.z},peeking:!1}),W=!0)}}}catch(G){F.e(G)}finally{F.f()}}return I&&(o+=1e3),z&&(o+=100),W&&(o+=T),k&&(j(l,{time:o,location:{x:e.location[0],y:0,z:e.location[1]}}),o+=T),j(l,{time:o,location:{x:N.x,y:0,z:N.z},peeking:!1,shooting:!1}),[o,w]}function O(e,t,n,a,i,s,c){var l=t;2===e.project&&(l=n);var f,h=null,m=Object(r.a)(l.units);try{for(m.s();!(f=m.n()).done;){var g=f.value;if(g.name===e.unit){h=g;break}}}catch(L){m.e(L)}finally{m.f()}if(null===h)return console.log("WARNING: could not find unit in item: '"+e.project+"':'"+e.unit+"'"),i;var b=null;null!=h.events&&h.events.length>0?b=h.events[h.events.length-1].location:(b.x=h.location[0],b.z=h.location[1]);var O=e.target,y=O[0]-b.x,x=O[1]-b.z,S=100*Math.sqrt(y*y+x*x);S<250&&(S=250);var k={time:i,duration:S,source:{x:b.x,z:b.z},target:{x:O[0],z:O[1]}};c.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:h.name,project:e.project})," throws grenade from ","["+b.x+", "+b.z+"] to ["+O[0]+", "+O[1]+"]"]}),time:i});var N=h.events[h.events.length-1];j(h,{time:i+50,items:p(N.items,"grenade"),actions:N.actions-2,throwing:!0}),i+=S;var T=!1,w=!1;if(a.length>0){var E,R=Object(r.a)(a);try{for(R.s();!(E=R.n()).done;){var P=E.value,A=t;2===P.targetProject&&(A=n);var C,D=Object(r.a)(A.units);try{for(D.s();!(C=D.n()).done;){var _=C.value;if(_.name===P.target){P.u=_;break}}}catch(L){D.e(L)}finally{D.f()}if(null!=P.u){var I=P.u.events[P.u.events.length-1];if(!I.dead){var z=i,W=Object(o.a)(P.u.location,2),M=W[0],F=W[1],B=0;null!=I&&(M=I.location.x,B=I.location.y,F=I.location.z),c.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:h.name,project:e.project})," damages ",Object(u.jsx)(d,{text:P.u.name,project:P.targetProject})," with a grenade dealing "+P.damage+" damage"]}),time:i}),j(P.u,{time:z,location:{x:M,y:B,z:F},hit:!0,health:P.health,armorBonus:P.armorBonus,damaged:!0}),z+=1e3,T=!0,j(P.u,{time:z,location:{x:M,y:B,z:F},hit:!1,damaged:!1}),P.health<=0&&(c.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:P.u.name,project:P.targetProject})," is incapacitated."]}),time:i}),j(P.u,{time:z,location:{x:M,y:B,z:F},dead:!0}),z+=100,w=!0)}}else console.log("WARNING: could not target find unit in item: '"+e.project+"':'"+P.unit+"'")}}catch(L){R.e(L)}finally{R.f()}}var U=i+100;return j(h,{time:i+=500,throwing:!1}),v(s,t,n,i+500,c),T&&(i+=1e3),w&&(i+=100),[i,k,U]}function y(e,t,n,a,i,s){var c=t;2===e.project&&(c=n);var l,f=null,h=Object(r.a)(c.units);try{for(h.s();!(l=h.n()).done;){var m=l.value;if(m.name===e.unit){f=m;break}}}catch(W){h.e(W)}finally{h.f()}if(null===f)return console.log("WARNING: could not find unit in item: '"+e.project+"':'"+e.unit+"'"),i;var g=null;null!=f.events&&f.events.length>0?g=f.events[f.events.length-1].location:(g.x=f.location[0],g.z=f.location[1]);var v=e.target,b={time:i,duration:500,source:{x:g.x,z:g.z},target:{x:v[0],z:v[1]}};s.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:f.name,project:e.project})," uses medikit from ","["+g.x+", "+g.z+"] to ["+v[0]+", "+v[1]+"]"]}),time:i});var O=f.events[f.events.length-1];j(f,{time:i+50,items:p(O.items,"medikit"),actions:O.actions-2,throwing:!0}),i+=500;var y=!1;if(a.length>0){var x,S=Object(r.a)(a);try{for(S.s();!(x=S.n()).done;){var k=x.value,N=t;2===k.targetProject&&(N=n);var T,w=Object(r.a)(N.units);try{for(w.s();!(T=w.n()).done;){var E=T.value;if(E.name===k.target){k.u=E;break}}}catch(W){w.e(W)}finally{w.f()}if(null!=k.u){var R=k.u.events[k.u.events.length-1];if(!R.dead){var P=i,A=Object(o.a)(k.u.location,2),C=A[0],D=A[1],_=0;null!=R&&(C=R.location.x,_=R.location.y,D=R.location.z);var I=-1*k.damage;I>0?s.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:f.name,project:e.project})," heals ",Object(u.jsx)(d,{text:k.u.name,project:k.targetProject})," with a medikit restoring "+I+" damage"]}),time:i}):console.log("WARNING: expected a heal, but got damage instead!"),j(k.u,{time:P,location:{x:C,y:_,z:D},hit:!0,health:k.health,armorBonus:k.armorBonus,healing:!0}),P+=1e3,y=!0,j(k.u,{time:P,location:{x:C,y:_,z:D},hit:!1,healing:!1})}}else console.log("WARNING: could not target find unit in item: '"+e.project+"':'"+k.unit+"'")}}catch(W){S.e(W)}finally{S.f()}}var z=i+100;return j(f,{time:i+=500,throwing:!1}),y&&(i+=1e3),[i,b,z]}function x(e,t,n,a,o){var i=t;2===e.project&&(i=n);var s,c=null,l=Object(r.a)(i.units);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(f.name===e.unit){c=f;break}}}catch(g){l.e(g)}finally{l.f()}if(null===c)return console.log("WARNING: could not find unit in item: '"+e.project+"':'"+e.unit+"'"),a;var h=null;null!=c.events&&c.events.length>0?h=c.events[c.events.length-1].location:(h.x=c.location[0],h.z=c.location[1]);var p={time:a,duration:500,source:{x:h.x,z:h.z},target:{x:h.x,z:h.z}},m=c.events[c.events.length-1];return j(c,{time:a,weaponMags:m.weaponMags-1,reloading:!0,actions:m.actions-2}),j(c,{time:(a+=500)+250,ammo:c.maxAmmo,reloading:!1}),o.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:c.name,project:e.project})," reloads"]}),time:a+250}),[a+=500,p]}function S(e,t,n,a,i,s,c){0!==e.height&&console.log("WARNING: obstacleUpdate height is not 0");var l,u=Object(r.a)(e.locations);try{for(u.s();!(l=u.n()).done;){var d=l.value,f=Object(o.a)(d,2),h=f[0],p=f[1];-1!==t[p][h]&&console.log("WARNING: overwriting obstacle destruction!"),t[p][h]=n}}catch(b){u.e(b)}finally{u.f()}for(var j="",m=0;m<e.locations.length;m++){m>0&&m<e.locations.length-1?j+=", ":m>0&&m===e.locations.length-1&&(j+=" and ");var g=e.locations[m];j+="["+g[0]+", "+g[1]+"]"}return c.push({text:"Obstacles destroyed at "+j,time:n}),v(s,a,i,n+=100,c),n}function k(e){e.events=[{time:0,location:{x:e.location[0],y:0,z:e.location[1]},visible:!1,dead:!1,health:e.health,ammo:e.ammo,armorBonus:e.armorBonus,weaponMags:e.weaponMags,items:e.items,overwatch:!1,hit:!1,actions:2,dashing:!1,moving:!1,shooting:!1,reloading:!1,healing:!1,throwing:!1,peeking:!1,damaged:!1,enemyName:null}]}function N(e,t,n,a,i,s){a+=100;var c=e;2===n&&(c=t);var l,f=Object(r.a)(c.units);try{for(f.s();!(l=f.n()).done;){j(l.value,{time:a,actions:2,overwatch:!1})}}catch(E){f.e(E)}finally{f.f()}var h=!1;if(i.length>0){var p,m=Object(r.a)(i);try{for(m.s();!(p=m.n()).done;){var g=p.value,v=e;2===g.targetProject&&(v=t);var b,O=Object(r.a)(v.units);try{for(O.s();!(b=O.n()).done;){var y=b.value;if(y.name===g.target){g.u=y;break}}}catch(E){O.e(E)}finally{O.f()}if(null!=g.u){var x=g.u.events[g.u.events.length-1];if(!x.dead){var S=a,k=Object(o.a)(g.u.location,2),N=k[0],T=k[1];if(null!=x&&(N=x.location.x,T=x.location.z),g.damage){var w="";"medikit"===g.item&&(w=" (too much health)"),s.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:g.u.name,project:g.targetProject})," receives "+g.damage," damage from "+g.item+w]}),time:a})}else console.log("WARNING: expected damage, but got heal instead!");j(g.u,{time:S,location:{x:N,y:0,z:T},hit:!0,health:g.health,armorBonus:g.armorBonus,damaged:!0}),S+=1e3,h=!0,j(g.u,{time:S,location:{x:N,y:0,z:T},hit:!1,damaged:!1})}}else console.log("WARNING: could not target find unit in new turn: '"+n+"':'"+g.unit+"'")}}catch(E){m.e(E)}finally{m.f()}}return h&&(a+=1e3),a}var T=function(e,t,n){var a=JSON.parse(e[0]),i=JSON.parse(e[1]);if(2===a.project){var s=a;a=i,i=s}var c=[],l=[],h=[],p=[];if("setup"!==a.action||"setup"!==i.action)return[null,null,[],[],0];var m=function(e){for(var t=[],n=0;n<e.length;n++){t.push([]);for(var a=0;a<e[n].length;a++)t[n].push(-1)}return t}(t);!function(e,t){var n,a=Object(r.a)(e.units);try{for(a.s();!(n=a.n()).done;){var o=n.value;k(o),o.project=e.project}}catch(l){a.e(l)}finally{a.f()}var i,s=Object(r.a)(t.units);try{for(s.s();!(i=s.n()).done;){var c=i.value;k(c),c.project=t.project}}catch(l){s.e(l)}finally{s.f()}}(a,i);for(var v=0,T=[],w=[],E=[],R=[],P=[],A=0,C=0,D=2;D<e.length;D++){var _=JSON.parse(e[D]);switch(_.action){case"move":var I=g(_,a,i,t,m,T,v,R,P),z=Object(o.a)(I,2),W=z[0],M=z[1];v=W,c=c.concat(M),T=[];break;case"startTurn":C=1===n?A%2+1:(A+1)%2+1,A++,P.push({text:Object(u.jsxs)("span",{children:["Start ",Object(u.jsx)(d,{text:"turn "+A,project:C}),Object(u.jsx)(f,{text:" ("+_.timeLeft.toFixed(2)+"s left)"})]}),time:v}),v=N(a,i,C,v,w,P),w=[];break;case"endTurn":break;case"overwatch":var F=a;i.project===_.project&&(F=i),v+=50;var B,U=Object(r.a)(F.units);try{for(U.s();!(B=U.n()).done;){var L=B.value;if(L.name===_.unit)j(L,{time:v,overwatch:!0,actions:L.events[L.events.length-1].actions-2})}}catch(ue){U.e(ue)}finally{U.f()}P.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:_.unit,project:_.project})," is overwatching"]}),time:v});break;case"reload":var J=x(_,a,i,v,P),G=Object(o.a)(J,2),K=G[0],Y=G[1];v=K,p.push(Y);break;case"obstacleShot":if(_.hit){P.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:_.unit,project:_.project})," hits an obstacle at ["+_.targetLocation[0]+", "+_.targetLocation+"]",Object(u.jsx)(f,{text:" (hit: "+_.hitRoll+" / "+_.hitChance+")"})]}),time:v});var H,X=Object(r.a)(E);try{for(X.s();!(H=X.n()).done;){v=S(H.value,m,v,a,i,R,P)}}catch(ue){X.e(ue)}finally{X.f()}E=[]}else P.push({text:Object(u.jsxs)("span",{children:[Object(u.jsx)(d,{text:_.unit,project:_.project})," misses an obstacle at ["+_.targetLocation[0]+", "+_.targetLocation+"]",Object(u.jsx)(f,{text:" (hit: "+_.hitRoll+" / "+_.hitChance+")"})]}),time:v});break;case"obstacleUpdate":E.push(_);break;case"enemy":R.push(_);break;case"item":if("grenade"===_.item){var q=O(_,a,i,w,v,R,P),V=Object(o.a)(q,3),$=V[0],Q=V[1],Z=V[2];v=$,l.push(Q),w=[];var ee,te=Object(r.a)(E);try{for(te.s();!(ee=te.n()).done;){S(ee.value,m,Z,a,i,R,P)}}catch(ue){te.e(ue)}finally{te.f()}E=[]}else if("medikit"===_.item){var ne=y(_,a,i,w,v,P),ae=Object(o.a)(ne,2),oe=ae[0],re=ae[1];v=oe,h.push(re),w=[]}else console.log("unknown item: '"+_.item+"' from action: '"+_.action+"'");break;case"damage":"grenade"===_.item||"medikit"===_.item?w.push(_):console.log("unknown damage: "+_.item);break;case"shot":if(null!=_.overwatch&&_.overwatch)T.push(_);else{var ie=b(_,a,i,0,v,P),se=Object(o.a)(ie,2),ce=se[0],le=se[1];v=ce,c=c.concat(le)}break;default:console.log("unknown action: '"+_.action+"'")}}return[a,i,c,l,h,p,m,v,P]},w=n(153),E=n(14),R=Object(i.lazy)((function(){return Promise.all([n.e(193),n.e(242)]).then(n.bind(null,518))}));function P(e){var t,n=e.detailedOutput,a=e.keyRef,o=[],i=0,s=Object(r.a)(n);try{for(s.s();!(t=s.n()).done;){var c=t.value;i++;var l=c.startsWith("ERR:"),d=c.slice(4);o.push(Object(u.jsx)("div",{className:l?"results-debug-error":"results-debug-normal",children:d},"detailedOutput-"+a+"-"+i))}}catch(f){s.e(f)}finally{s.f()}return o}function A(e){var t=e.mutation,n=Object(i.useState)(null),a=Object(o.a)(n,2),s=a[0],c=a[1],f=Object(i.useState)(0),h=Object(o.a)(f,2),p=h[0],j=h[1];t.setUnitToDisplay=c;var m=function(e){if(null!=s.events&&s.events.length>0){var t=p;for(s.events.length-1<t&&(t=s.events.length-1);s.events.length>t+1&&s.events[t+1].time<=e;)t++;for(;s.events[t].time>e&&0<t;)t--;t!==p&&j(t)}};Object(i.useEffect)((function(){if(null!=s)return m(t.clock),t.setTimeForUnitPanel=function(e){null!=s&&m(e)},function(){t.setTimeForUnitPanel=function(){}}}),[s]);var g=[],v=null;if(null!=s&&null!=s.events&&s.events.length>p&&(v=s.events[p]),null!=s&&null!=v){var b="",O=0;if(null!=v.items&&v.items.length>0){var y,x=Object(r.a)(v.items);try{for(x.s();!(y=x.n()).done;){var S=y.value;O>0&&(b+=", "),b+=S,O++}}catch(N){x.e(N)}finally{x.f()}}""===b&&(b="-");var k=function(e){var t="";return e.moving&&(""!==t&&(t+=", "),t+="moving"),e.dashing&&(""!==t&&(t+=", "),t+="dashing"),e.peeking&&(""!==t&&(t+=", "),t+="peeking"),e.shooting&&(""!==t&&(t+=", "),t+="shooting"),e.reloading&&(""!==t&&(t+=", "),t+="reloading"),e.healing&&(""!==t&&(t+=", "),t+="healing"),e.throwing&&(""!==t&&(t+=", "),t+="throwing"),e.damaged&&(""!==t&&(t+=", "),t+="damaged"),e.overwatch&&(""!==t&&(t+=", "),t+="overwatching"),e.dead&&(""!==t&&(t+=", "),t+="incapacitated"),""===t&&(t="-"),t}(v);g.push(Object(u.jsxs)("div",{className:"results-unit-panel",children:[Object(u.jsxs)("div",{className:"results-unit-details-name",children:[Object(u.jsx)("button",{className:"results-unit-details-close-button",title:"Close panel",onClick:function(e){c(null),e.preventDefault()},children:Object(u.jsx)(l.a,{icon:"times"})}),Object(u.jsx)(l.a,{icon:v.visible?"eye":"eye-slash",title:v.visible?"Unit is visible to the enemy":"Unit is invisible to the enemy"})," ",Object(u.jsx)(d,{text:s.name,project:s.project})]}),Object(u.jsx)("table",{className:"results-unit-details-table",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Type:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:s.type})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Location:"}),Object(u.jsxs)("td",{className:"results-unit-details-table-td",children:[v.location.x,", ",v.location.z]})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Actions:"}),Object(u.jsxs)("td",{className:"results-unit-details-table-td",children:[v.actions," / 2"]})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Movement:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:s.movement})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Vision:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:s.vision})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Health:"}),Object(u.jsxs)("td",{className:"results-unit-details-table-td",children:[v.health," / ",s.maxHealth]})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Armor Bonus:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:v.armorBonus>0?v.armorBonus:"-"})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Armor:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:""!==s.armor?s.armor:"-"})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Weapon:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:""!==s.weapon?s.weapon:"-"})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Weapon Mags:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:v.weaponMags>0?v.weaponMags:"-"})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Ammo:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:s.maxAmmo>0?v.ammo+" / "+s.maxAmmo:"-"})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Items:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:b})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Enemy Name:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:null!=v.enemyName?v.enemyName:"-"})]}),Object(u.jsxs)("tr",{className:"results-unit-details-table-tr",children:[Object(u.jsx)("th",{className:"results-unit-details-table-th",children:"Status:"}),Object(u.jsx)("td",{className:"results-unit-details-table-td",children:k})]})]})})]},"unit-display-panel-"+s.project+"-"+s.name))}return g}function C(e){var t=e.log,n=e.mutation,a=Object(i.useRef)(),r=Object(i.useState)(0),s=Object(o.a)(r,2),c=s[0],l=s[1];n.setTimeForLog=function(e){if(!(null==t||t.length<=0)){for(var n=c;e<t[n].time&&n>0;)n--;for(;t.length>n+1&&e>=t[n+1].time;)n++;c!==n&&l(n)}};var d=[];if(null!=t&&t.length>=0)for(var f=0;f<=c;f++){var h=t[f];d.push(Object(u.jsxs)("div",{className:"results-event-log-line",children:[Object(u.jsx)("span",{className:"results-dimmed-colour",children:"["+D(h.time/1e3)+"] "}),h.text]},"event-log-"+f))}return d.push(Object(u.jsx)("div",{ref:a},"event-log scroller")),Object(i.useEffect)((function(){null!=a.current&&a.current.scrollIntoView({behavior:"smooth"})})),d}function D(e){var t=Math.trunc(e/60),n=Math.trunc(e)%60;return t.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")}function _(e){var t=e.isDebugOutput,n=e.css,a=e.second,o=e.showDebug,s=e.setShowDebug,c=e.setShowDebugOthers,d=e.keyRef,f=e.icon,h=e.title;Object(i.useEffect)((function(){o?document.documentElement.style.setProperty(n,"inline"):document.documentElement.style.setProperty(n,"none")}),[o]);var p=[];if(t){var j="results-playbutton results-playbutton-pressed";a&&(j="results-playbutton results-playbutton-pressed2"),p.push(Object(u.jsx)("button",{className:o?j:"results-playbutton",title:h,onClick:function(e){if(s(!o),!o){var t,n=Object(r.a)(c);try{for(n.s();!(t=n.n()).done;){(0,t.value)(!1)}}catch(a){n.e(a)}finally{n.f()}}e.preventDefault()},children:Object(u.jsx)(l.a,{icon:f})},d))}return p}function I(e){var t=e.mutation,n=e.isDebugOutput,a=e.isDebugOutput2,r=Object(i.useState)(!1),s=Object(o.a)(r,2),c=s[0],d=s[1],f=Object(i.useState)(),h=Object(o.a)(f,2)[1],p=Object(i.useState)(0),j=Object(o.a)(p,2),m=j[0],g=j[1],v=Object(i.useState)(!0),b=Object(o.a)(v,2),O=b[0],y=b[1],x=Object(i.useState)(!1),S=Object(o.a)(x,2),k=S[0],N=S[1],T=Object(i.useState)(!1),w=Object(o.a)(T,2),E=w[0],R=w[1];t.stopPlaying=function(){d(!1),t.playing=!1},t.startPlaying=function(){d(!0),t.playing=!0},t.setTime=function(){var e=Math.trunc(t.clock/1e3);m!==e&&g(e)};var P=c?"pause":"play";t.maxClock===t.clock&&(P="undo-alt");var A=Object(i.useRef)(),C=D(t.maxClock/1e3),I=D(m);return Object(u.jsxs)("div",{className:"results-playback",children:[Object(u.jsx)("div",{ref:A,className:"results-progressbar",onClick:function(e){var n=A.current.offsetWidth;if(0!==n&&void 0!==n){var a=e.nativeEvent.offsetX,o=a/n*t.maxClock,r=a/n*100;t.clock=o,t.setProgressBarPercentage(r),h(r)}},onMouseMove:function(e){if(!(null==e.buttons||e.buttons<=0)){var n=A.current.offsetWidth;if(0!==n&&void 0!==n){var a=e.nativeEvent.offsetX,o=a/n*t.maxClock,r=a/n*100;t.clock=o,t.setProgressBarPercentage(r),h(r)}}},children:Object(u.jsx)("span",{className:"results-progressbar-filler"})}),Object(u.jsx)("button",{className:"results-playbutton",title:"Play results",onClick:function(e){e.preventDefault(),t.clock===t.maxClock&&(t.clock=0),t.playing=!c,d(!c)},children:Object(u.jsx)(l.a,{icon:P})}),Object(u.jsx)(_,{keyRef:"eventLogButton",isDebugOutput:!0,css:"--results-event-log-overlay-display",second:!1,showDebug:O,setShowDebug:y,setShowDebugOthers:[N,R],icon:"list",title:"Show combat log"}),Object(u.jsx)(_,{keyRef:"debugOutputButton1",isDebugOutput:n,css:"--results-debug-overlay-display",second:!1,showDebug:k,setShowDebug:N,setShowDebugOthers:[R,y],icon:"bug",title:"Show debug output"}),Object(u.jsx)(_,{keyRef:"debugOutputButton2",isDebugOutput:a,css:"--results-debug-overlay-display2",second:!0,showDebug:E,setShowDebug:R,setShowDebugOthers:[N,y],icon:"bug",title:"Show debug output"}),Object(u.jsxs)("span",{className:"results-playbutton",children:[I," / ",C]})]})}t.default=function(e){var t=Object(E.d)(),n=Object(o.a)(t,1)[0],r=n.get("ap"),l=n.get("au"),d=n.get("dp"),f=n.get("du"),h=n.get("test");Object(i.useEffect)((function(){document.title=null!=r?h?e.title.replace("{0}",r+" vs Idle Test"):e.title.replace("{0}",r+" vs "+d):e.title.replace("{0}","unknown project")}),[e.title,r,d,h]);var p=Object(i.useState)(null),j=Object(o.a)(p,2),m=j[0],g=j[1],v=Object(i.useState)(null),b=Object(o.a)(v,2),O=b[0],y=b[1],x=Object(i.useState)(!1),S=Object(o.a)(x,2),k=S[0],N=S[1],D=Object(i.useState)(null),_=Object(o.a)(D,2),z=_[0],W=_[1],M=Object(i.useState)(null),F=Object(o.a)(M,2),B=F[0],U=F[1],L=Object(i.useState)({playing:!1,clock:0,maxClock:2e3,lastUpdate:null,stopPlaying:function(){G.playing=!1},startPlaying:function(){G.playing=!0},setTime:function(){},setTimeForLog:function(){},setProgressBarPercentage:function(e){return document.documentElement.style.setProperty("--results-progressbar-width",e+"%")}}),J=Object(o.a)(L,2),G=J[0],K=J[1],Y=function(e){if(" "===e.key)e.preventDefault(),G.playing?G.stopPlaying():G.startPlaying();else if(","===e.key){e.preventDefault();var t=G.clock-100;t<0&&(t=0),t!==G.clock&&(G.clock=t)}else if("."===e.key){e.preventDefault();var n=G.clock+100;n>G.maxClock&&(n=G.maxClock),n!==G.clock&&(G.clock=n)}};if(Object(i.useEffect)((function(){return document.addEventListener("keydown",Y),function(){return document.removeEventListener("keydown",Y)}})),Object(i.useEffect)((function(){var e=function(e){if(!e.success)return y(e.reason),void N(e.success);g(e.project);var t=e.project;if(null!=t.output&&t.output.length>1&&null!=t.heightMap){var n=T(t.output,t.heightMap,t.firstTurn),a=Object(o.a)(n,9),r=a[0],i=a[1],s=a[2],c=a[3],l=a[4],u=a[5],d=a[6],f=a[7],h=a[8];U({units1:r,units2:i,shots:s,heightMapTimes:d,tosses:c,heals:l,reloads:u}),W(h),K({playing:!1,clock:0,maxClock:f,lastUpdate:null,stopPlaying:function(){G.playing=!1},startPlaying:function(){G.playing=!0},setTime:function(){},setTimeForLog:function(){},setTimeForUnitPanel:function(){},setProgressBarPercentage:function(e){return document.documentElement.style.setProperty("--results-progressbar-width",e+"%")},setUnitToDisplay:function(){}}),G.setProgressBarPercentage(0)}N(e.success)},t=!1;if(s.a.isLoggedIn())if(h)c.a.getIdleTestResults(r,e),t=!0;else{var n=s.a.getUsername();n===l&&n===f?(c.a.getAttackerAndDefenderResults(r,d,e),t=!0):n===l?(c.a.getAttackerResults(r,f,d,e),t=!0):n===f&&(c.a.getDefenderResults(d,l,r,e),t=!0)}t||(w.a.getBrawl(l,r,f,d,e),t=!0)}),[r,d,l,f,h]),k&&null!=m&&null!=m.output){var H=[],X=[];null!=m.detailedOutput&&m.detailedOutput.length>0&&(H=m.detailedOutput),null!=m.detailedOutput2&&m.detailedOutput2.length>0&&(X=m.detailedOutput2);var q=[0,1.5,0],V=1,$=1;null!=m.heightMap&&m.heightMap.length>0&&(V=m.heightMap[0].length,$=m.heightMap.length,q[0]=V/2,q[2]=$/2);var Q="Idle Test",Z="";return null!=d&&(Q=d,Z=Object(u.jsxs)("div",{children:["Authors: ",Object(u.jsxs)("span",{className:"results-attacker-colour",title:m.country,children:[Object(u.jsx)("span",{className:"flag-icon flag-icon-"+m.countryCode.toLowerCase()+" ranking-flag-size"}),l]})," vs ",Object(u.jsxs)("span",{className:"results-defender-colour",title:m.opponentCountry,children:[Object(u.jsx)("span",{className:"flag-icon flag-icon-"+m.opponentCountryCode.toLowerCase()+" ranking-flag-size"}),f]})]})),Object(u.jsxs)("div",{className:"results-page",children:[Object(u.jsxs)("div",{className:"results-header",children:[Object(u.jsxs)("h2",{className:"results-header-h2",children:[Object(u.jsx)("span",{className:"results-attacker-colour",children:r})," vs ",Object(u.jsx)("span",{className:"results-defender-colour",children:Q})]}),Z]}),Object(u.jsx)(i.Suspense,{fallback:Object(u.jsx)("div",{children:"Loading..."}),children:Object(u.jsx)(R,Object(a.a)(Object(a.a)({},B),{},{heightMap:m.heightMap,mutation:G,target:q}))}),Object(u.jsx)(I,{mutation:G,isDebugOutput:H.length>0,isDebugOutput2:X.length>0}),Object(u.jsx)("div",{className:"results-debug-overlay",children:Object(u.jsx)(P,{detailedOutput:H,keyRef:1})}),Object(u.jsx)("div",{className:"results-debug-overlay2",children:Object(u.jsx)(P,{detailedOutput:X,keyRef:2})}),Object(u.jsx)("div",{className:"results-event-log-overlay",children:Object(u.jsx)(C,{mutation:G,log:z})}),Object(u.jsx)("div",{children:Object(u.jsx)(A,{mutation:G})})]})}return k&&null!=m&&null==m.output?null!=m.detailedOutput&&m.detailedOutput.length>0?Object(u.jsxs)("div",{className:"info-page",children:[Object(u.jsx)("p",{children:"The bot crashed before the match began. Here is what was captured and the possible error:"}),Object(u.jsx)(P,{detailedOutput:m.detailedOutput,keyRef:1})]}):Object(u.jsx)("div",{className:"info-page",children:Object(u.jsx)("p",{children:"Sorry, there is no output from the bot. It crashed before outputting anything."})}):null!==O?Object(u.jsxs)("div",{className:"info-page",children:[Object(u.jsx)("p",{children:"Failed to get any progress information."}),null!=O?Object(u.jsxs)("p",{children:["Error: ",O]}):""]}):Object(u.jsx)("div",{className:"info-page",children:Object(u.jsx)("p",{children:"Loading..."})})}},85:function(e,t,n){"use strict";var a=n(37),o=n(9),r=n(10),i=n(61),s=n(6),c=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"renameProject",value:function(t,n,a){var o=s.c.warning("Renaming "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("rename_project",{oldName:t,newName:n},(function(r){e.finishToast(r,o,"Failed to rename "," renamed to "+n+".",t,a)}),(function(a){e.finishToast(a,o,"Failed to rename "," renamed to "+n+".",t,void 0)}))}},{key:"loadFiles",value:function(t,n){e.postWithToast("get_project_files",t,"Loading files for ","Failed to load files for "," files loaded.",n)}},{key:"loadUnits",value:function(t,n){e.postWithToast("get_project_units",t,"Loading units for ","Failed to load units for "," units loaded.",n)}},{key:"deleteProject",value:function(t,n){e.postWithToast("delete_project",t,"Deleting ","Failed to delete "," deleted.",n)}},{key:"launchProject",value:function(t,n){e.postWithToast("launch_project",t,"Launching ","Failed to launch "," launched.",n)}},{key:"listProjects",value:function(t){e.get("list_projects",t)}},{key:"createProject",value:function(t,n){e.postWithToast("create_project",t,"Creating ","Failed to create "," created.",n)}},{key:"getProgress",value:function(t,n){e.postWithToast("get_project_progress",t,"Loading ","Failed to load "," loaded.",n)}},{key:"getIdleTestResults",value:function(t,n){e.postWithToast("get_project_idle_test",t,"Loading ","Failed to load "," loaded.",n)}},{key:"getDefenderResults",value:function(t,n,a,o){e.postWithToastPayload("get_project_defense",t,{projectName:t,opponentUsername:n,opponentProjectName:a},"Loading ","Failed to load "," loaded.",o)}},{key:"getAttackerResults",value:function(t,n,a,o){e.postWithToastPayload("get_project_attack",t,{projectName:t,opponentUsername:n,opponentProjectName:a},"Loading ","Failed to load "," loaded.",o)}},{key:"getAttackerAndDefenderResults",value:function(t,n,a){e.postWithToastPayload("get_project_attack_and_defense",t,{projectName1:t,projectName2:n},"Loading ","Failed to load "," loaded.",a)}},{key:"post",value:function(e,t,n){i.a.fetchSecurePOST(e,{name:t},(function(e){n&&n(e)}),(function(t){console.log("POST ERROR: "+e),console.log(t),void 0!==t&&null!==t&&t.toString().length<100&&s.c.error(t.toString(),{autoClose:1e4})}))}},{key:"get",value:function(e,t){i.a.fetchSecureGET(e,(function(e){t&&t(e)}),(function(t){console.log("GET ERROR: "+e),console.log(t),void 0!==t&&null!==t&&t.toString().length<100&&s.c.error(t.toString(),{autoClose:1e4})}))}},{key:"duplicateProject",value:function(t,n,a){var o=s.c.warning("Duplicating "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("duplicate_project",{name:t,duplicateName:n},(function(n){e.finishToast(n,o,"Failed to duplicate "," duplicated.",t,a)}),(function(n){e.finishToast(n,o,"Failed to duplicate "," duplicated.",t,void 0)}))}},{key:"postWithToast",value:function(t,n,a,o,r,c){var l=s.c.warning(a+n+"...",{autoClose:!1});i.a.fetchSecurePOST(t,{name:n},(function(t){e.finishToast(t,l,o,r,n,c(t))}),(function(t){e.finishToast(t,l,o,r,n,void 0)}))}},{key:"postWithToastPayload",value:function(t,n,a,o,r,c,l){var u=s.c.warning(o+n+"...",{autoClose:!1});i.a.fetchSecurePOST(t,a,(function(t){e.finishToast(t,u,r,c,n,l(t))}),(function(t){e.finishToast(t,u,r,c,n,void 0)}))}},{key:"saveFiles",value:function(t,n,a){var o=s.c.warning("Saving "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("save_project_files",{name:t,files:JSON.stringify(n)},(function(n){e.finishToast(n,o,"Failed to save "," saved.",t,a)}),(function(n){e.finishToast(n,o,"Failed to save "," saved.",t,void 0)}))}},{key:"saveUnits",value:function(t,n,a){var o=s.c.warning("Saving "+t+"...",{autoClose:!1});i.a.fetchSecurePOST("save_project_units",{name:t,units:JSON.stringify(n)},(function(n){e.finishToast(n,o,"Failed to save "," saved.",t,a)}),(function(n){e.finishToast(n,o,"Failed to save "," saved.",t,void 0)}))}},{key:"finishToast",value:function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(void 0!==e)if(void 0!==e.success)if(e.success)s.c.update(t,{render:r+o,type:s.c.TYPE.SUCCESS,autoClose:500}),void 0!==i&&i();else if(void 0!==e.reason)if("field"===e.reason){var c,l="",u=Object(a.a)(e.field);try{for(u.s();!(c=u.n()).done;){var d=c.value;l.length>0&&(l+=" "),l+=d.reason}}catch(f){u.e(f)}finally{u.f()}s.c.update(t,{render:n+r+": "+l,type:s.c.TYPE.ERROR,autoClose:1e4})}else s.c.update(t,{render:n+r+": "+e.reason,type:s.c.TYPE.ERROR,autoClose:1e4});else s.c.update(t,{render:n+r+".",type:s.c.TYPE.ERROR,autoClose:1e4});else void 0!==e.reason?s.c.update(t,{render:n+r+": "+e.reason,type:s.c.TYPE.ERROR,autoClose:1e4}):(s.c.update(t,{render:n+r+": "+e,type:s.c.TYPE.ERROR,autoClose:1e4}),console.log(e));else s.c.update(t,{render:n+r+".",type:s.c.TYPE.ERROR,autoClose:1e4}),console.log("results is undefined!")}},{key:"timeSince",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===e||void 0===e||""===e)return"not yet";var n=Math.floor((Date.now()-Date.parse(e))/1e3);t&&(n=Math.floor((Date.parse(e)-Date.now())/1e3));var a=Math.floor(n/31536e3);return a>=1?a+(1===a?" year":" years"):(a=Math.floor(n/2592e3))>=1?a+(1===a?" month":" months"):(a=Math.floor(n/86400))>=1?a+(1===a?" day":" days"):(a=Math.floor(n/3600))>=1?a+(1===a?" hour":" hours"):(a=Math.floor(n/60))>=1?a+(1===a?" minute":" minutes"):Math.floor(n)+(1===a?" second":" seconds")}},{key:"timeUntilAccurate",value:function(e){if(null===e||void 0===e||""===e)return"not yet";var t=Math.floor((Date.parse(e)-Date.now())/1e3),n="",a=Math.floor(t/86400);if(a>=1){n.length>0&&(n+=" ");n+=a+(1===a?" day":" days")}if((a=Math.floor(t/3600))>=1){n.length>0&&(n+=" ");var o=a%24;n+=o+(1===o?" hour":" hours")}if((a=Math.floor(t/60))>=1){n.length>0&&(n+=" ");var r=a%60;n+=r+(1===r?" minute":" minutes")}n.length>0&&(n+=" ");var i=Math.floor(t)%60;return n+i+(1===i?" second":" seconds")}}]),e}();t.a=c}}]);